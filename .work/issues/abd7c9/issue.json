{
  "id": "abd7c9",
  "title": "Explore: Issue tracker personas and workflows",
  "status": "done",
  "priority": 2,
  "labels": [
    "explore"
  ],
  "created": "2026-02-15T20:31:25.965559Z",
  "updated": "2026-02-15T20:36:53.047579Z",
  "description": "# Explore: Issue Tracker Personas \u0026 Workflows\n\n## Personas\n\n1. **PM (human)**: Reviews tasks, approves/rejects work, tracks\n   progress across epics\n2. **Engineer (AI)**: Creates/updates tickets, progresses through\n   states, needs clear acceptance criteria\n\n## Current State\n\n- Flat issue model: ID, title, status, priority, labels, assignee,\n  description, comments\n- Status workflow: open → active → done/cancelled (configurable)\n- No issue types, no relationships, no review flow\n- `By` field hardcoded to \"system\" — no user identity\n- Labels are only categorization mechanism (free-form strings)\n- All CLI commands in main.go (~670 lines), tracker logic in\n  internal/tracker/tracker.go (~412 lines)\n\n## Gap Analysis\n\n### 1. Accept/Reject Workflow (HIGH)\n\n**Need**: Engineer marks work done → PM reviews → approve or\nreject with feedback.\n\n**Current**: open → active → done. No review state. No reviewer\nfield. No approval semantics.\n\n**Recommendation**: Add `review` status between `active` and\n`done`. New transitions:\n\n```\nactive → review    (engineer submits for review)\nreview → done      (PM approves)\nreview → active    (PM rejects — reopens for more work)\n```\n\nAdd CLI shortcuts:\n- `work review \u003cid\u003e` — active → review\n- `work approve \u003cid\u003e` — review → done\n- `work reject \u003cid\u003e \u003creason\u003e` — review → active + auto-comment\n\nRequires user identity so events record who approved/rejected.\n\n### 2. Epics / Parent-Child (HIGH)\n\n**Need**: Group related issues under a parent. Track progress of\na larger body of work.\n\n**Current**: Completely flat. No relationships at all.\n\n**Recommendation**: Add `ParentID` field to Issue model. An epic\nis just an issue with children — no separate type needed.\n\n- `work create \"Epic title\" --parent \u003cid\u003e` or\n  `work link \u003cchild-id\u003e --parent \u003cepic-id\u003e`\n- `work show \u003cepic-id\u003e` displays children + completion stats\n- `work list --parent \u003cid\u003e` filters to children of an epic\n- `work list --roots` shows only top-level issues (no parent)\n\nKeep it single-level initially (parent/child only, no grandchildren).\nValidate: no circular refs, parent must exist.\n\n### 3. Issue Types (MEDIUM)\n\n**Need**: Distinguish feature/bug/chore for different acceptance\ncriteria and reporting.\n\n**Current**: Labels are the only categorization. No type field.\n\n**Recommendation**: Add `Type` field to Issue model. Predefined\nvalues: `feature`, `bug`, `chore`. Default: `feature`.\n\n- `work create \"title\" --type bug`\n- `work list --type feature`\n- Type displayed in list output and show output\n- Types defined in config.json so they're extensible\n\n**Why not just use labels?** Types are mutually exclusive (an issue\nis exactly one type), warrant different display treatment, and could\neventually drive different workflows (e.g., bugs skip review, chores\ndon't need PM acceptance).\n\n### 4. User Identity (HIGH — prerequisite for #1)\n\n**Need**: Know who did what. Essential for accept/reject flow.\n\n**Current**: `By` field hardcoded to \"system\" everywhere.\n\n**Recommendation**: Resolve user from (in priority order):\n1. `WORK_USER` env var\n2. `git config user.name`\n3. Fall back to \"system\"\n\nThread through all event/comment creation. No `--user` flag needed\n— env var + git covers both personas (PM sets their name, AI agent\nuses default or env var).\n\n## Proposed Implementation Order\n\n**Phase 1: User Identity + Review Workflow**\n1. Add user identity resolution (env var / git config)\n2. Thread identity through tracker operations\n3. Add `review` status to default config\n4. Add `review`, `approve`, `reject` CLI commands\n5. Auto-comment on reject with reason\n\n**Phase 2: Issue Types**\n6. Add `Type` field to model\n7. Add `--type` flag to create/edit/list\n8. Add type to display output\n9. Add types to config.json for extensibility\n\n**Phase 3: Epics / Parent-Child**\n10. Add `ParentID` field to model\n11. Add `--parent` flag to create, `link`/`unlink` commands\n12. Show children in `work show` for parent issues\n13. Add `--parent` and `--roots` filters to list\n14. Display completion stats for epics\n\n## Non-Goals (for now)\n\n- Blocking/dependency relationships (beyond parent/child)\n- Due dates / milestones\n- Label management commands\n- Bulk operations\n- Multi-level nesting (epic → story → subtask)",
  "comments": [
    {
      "text": "Created issues: 6300b5, d09cc5, ff2801",
      "created": "2026-02-15T20:36:53.043524Z",
      "by": "system"
    }
  ]
}